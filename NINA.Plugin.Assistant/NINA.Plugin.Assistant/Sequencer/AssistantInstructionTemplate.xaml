<ResourceDictionary
    x:Class="Assistant.NINAPlugin.Sequencer.AssistantInstructionTemplate"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:alt="clr-namespace:NINA.WPF.Base.View;assembly=NINA.WPF.Base"
    xmlns:local="clr-namespace:Assistant.NINAPlugin.Sequencer"
    xmlns:mini="clr-namespace:NINA.View.Sequencer.MiniSequencer;assembly=NINA.Sequencer"
    xmlns:nina="clr-namespace:NINA.View.Sequencer;assembly=NINA.Sequencer"
    xmlns:util="clr-namespace:NINA.Core.Utility;assembly=NINA.Core">

    <GeometryGroup x:Key="Scheduler.SchedulerSVG">
        <PathGeometry Figures="M 48.921875 7.1210937 C 27.031676 7.1122357 5.1381776 13.469135 -13.837891 26.193359 -51.790027 51.641807 -70.609439 97.553423 -61.439453 142.31836 l 11.755859 -2.4082 C -57.883034 99.883111 -41.089604 58.915157 -7.1542969 36.160156 26.781011 13.405155 71.055776 13.42262 104.97266 36.205078 c 33.91688 22.782458 50.67909 63.762807 42.44726 103.783202 -8.23183 40.0204 -39.80762 71.06093 -79.962889 78.60742 l 2.216797 11.79297 C 114.58217 221.94893 149.96762 187.16375 159.17383 142.40625 168.38004 97.64875 149.59559 51.723296 111.66406 26.244141 92.698298 13.504563 70.812074 7.1299518 48.921875 7.1210937 Z" FillRule="EvenOdd" />
        <PathGeometry Figures="m 48.875 -31.320312 c -83.298884 0 -151.03906 67.740178 -151.03906 151.039062 0 83.29888 67.740176 151.04102 151.03906 151.04102 83.29888 0 151.04102 -67.74214 151.04102 -151.04102 0 -83.298884 -67.74214 -151.039062 -151.04102 -151.039062 z m 0 19.999999 c 72.49009 1e-6 131.04102 58.548971 131.04102 131.039063 0 72.49009 -58.55093 131.04102 -131.04102 131.04102 -72.490092 0 -131.039062 -58.55093 -131.039062 -131.04102 0 -72.490092 58.54897 -131.039063 131.039062 -131.039063 z" FillRule="EvenOdd" />
        <PathGeometry Figures="m -25.1101 94.5089 c -1.5999 4.8603 -2.7371 9.9511 -3.352 15.2281 -4.9194 42.218 25.35959 80.539 67.5705 85.518 42.211 4.979 80.5726 -25.244 85.6116 -67.448 l -7.943 -0.949 C 112.25 164.773 77.9653 191.782 40.0441 187.309 2.12293 182.836 -24.9357 148.59 -20.5163 110.663 -16.0968 72.7351 18.1111 45.6297 56.0448 49.9955 l 0.9153 -7.9474 C 20.0133 37.7959 -13.9106 60.4869 -25.1101 94.5089 Z" FillRule="EvenOdd" />
        <PathGeometry Figures="M 74.9759 154.174 C 91.8093 140.932 95.8598 116.939 84.3044 98.9056 72.749 80.8723 49.2573 74.5247 30.1926 84.2851 11.1278 94.0454 2.54323 116.814 10.4173 136.732 l 11.1596 -4.412 c -5.6408 -14.269 0.426 -30.362 14.0836 -37.3538 13.6576 -6.9921 30.2606 -2.5062 38.5386 10.4128 8.2781 12.918 5.4175 29.878 -6.6417 39.364 z" FillRule="EvenOdd" />
    </GeometryGroup>

    <DataTemplate DataType="{x:Type local:AssistantInstruction}">
        <nina:SequenceBlockView DataContext="{Binding}">
            <nina:SequenceBlockView.SequenceItemContent>
                <Border BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,2">
                    <Grid>
                        <Grid.Resources>
                            <util:BindingProxy x:Key="nighttimeProxy" Data="{Binding NighttimeData}" />
                        </Grid.Resources>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <StackPanel Orientation="Vertical">

                            <DataGrid
                                Height="190"
                                Margin="0,0,0,0"
                                AutoGenerateColumns="False"
                                BorderThickness="0"
                                CanUserAddRows="false"
                                HeadersVisibility="None"
                                ScrollViewer.CanContentScroll="False"
                                HorizontalScrollBarVisibility="Disabled"
                                ItemsSource="{Binding StatusItemList}"
                                VerticalScrollBarVisibility="Auto">

                                <DataGrid.CellStyle>
                                    <Style TargetType="DataGridCell">
                                        <Setter Property="BorderBrush" Value="{StaticResource BorderBrush}" />
                                        <Setter Property="BorderThickness" Value="0" />
                                        <Setter Property="MinHeight" Value="22" />
                                        <Setter Property="Margin" Value="5,3,5,3" />
                                        <Style.Triggers>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="{StaticResource ButtonBackgroundBrush}" />
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="False">
                                                <Setter Property="Background" Value="Transparent" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGrid.CellStyle>

                                <DataGrid.RowStyle>
                                    <Style TargetType="DataGridRow">
                                        <Setter Property="MinHeight" Value="22" />
                                        <Setter Property="Background" Value="Transparent" />
                                        <Setter Property="VerticalAlignment" Value="Center" />
                                        <Style.Triggers>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="{StaticResource SecondaryBackgroundBrush}" />
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="False">
                                                <Setter Property="Background" Value="Transparent" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </DataGrid.RowStyle>

                                <DataGrid.Columns>

                                    <DataGridTemplateColumn
                                        Width="*"
                                        CanUserReorder="False"
                                        CanUserSort="False"
                                        IsReadOnly="True">
                                        <DataGridTemplateColumn.CellTemplate>
                                            <DataTemplate>
                                                <Expander
                                                    ExpandDirection="Down"
                                                    Header="{Binding Name}"
                                                    IsExpanded="False">
                                                    <TextBlock
                                                        Margin="3,3,3,3"
                                                        FontFamily="Courier New"
                                                        Text="{Binding History}"
                                                        TextWrapping="Wrap" />
                                                </Expander>
                                            </DataTemplate>
                                        </DataGridTemplateColumn.CellTemplate>
                                    </DataGridTemplateColumn>

                                </DataGrid.Columns>
                            </DataGrid>

                        </StackPanel>
                    </Grid>

                </Border>
            </nina:SequenceBlockView.SequenceItemContent>
        </nina:SequenceBlockView>
    </DataTemplate>

    <DataTemplate x:Key="Assistant.NINAPlugin.Sequencer.AssistantInstructionTemplate_Mini">
        <mini:MiniSequenceItem>
            <mini:MiniSequenceItem.SequenceItemContent>
                <StackPanel Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="{Binding Summary}" />
                </StackPanel>
            </mini:MiniSequenceItem.SequenceItemContent>
        </mini:MiniSequenceItem>
    </DataTemplate>
</ResourceDictionary>
